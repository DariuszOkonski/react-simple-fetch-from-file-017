(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(3),o=n.n(l),d=(n(15),n(1)),c=n(4),r=n(5),u=n(7),s=n(6),h=n(8),m=(n(16),function(e){return i.a.createElement("div",null,i.a.createElement("h2",null,"Fetch from file app"),e.downloadingTime>0?i.a.createElement("h4",null,"Downloading data time: ",i.a.createElement("span",null,(e.downloadingTime/1e3).toFixed(1)),"s"):null)}),f=function(e){return i.a.createElement("div",null,i.a.createElement("button",{onClick:e.handleFetchClick},"fetch from file"),i.a.createElement("button",{onClick:e.handleResetClick},"reset"))},T=function(e){return i.a.createElement("li",null,i.a.createElement("h4",null,"id: ",e.element.id),i.a.createElement("p",null,"English: ",e.element.en),i.a.createElement("p",null,"Polish: ",e.element.pl))},w=function(e){var t=null;return e.isFetched&&null!==e.data&&(t=e.data.map(function(e){return i.a.createElement(T,{key:e.id,element:e})})),i.a.createElement("div",null,i.a.createElement("ul",null,t))},p=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).randomTime=0,n.intervalIndex=null,n.dataToSend=null,n.state={downloadingTime:n.randomTime,isFetched:!1,data:[]},n.handleFetch=function(){if(n.state.isFetched)return alert("First Reset data");n.loadData()},n.handleReset=function(){n.setState({isFetched:!1,data:[]}),n.dataToSend=null},n.countDownloadingTime=function(){n.intervalIndex=setInterval(function(){n.state.downloadingTime>0?n.setState(function(e){return{downloadingTime:e.downloadingTime-100}}):(clearInterval(n.intervalIndex),n.setState({downloadingTime:0}))},100)},n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){this.state.isFetched&&null===this.dataToSend&&this.updateDateToSend()}},{key:"updateDateToSend",value:function(){this.dataToSend=Object(d.a)(this.state.data);var e=Math.floor(Math.random()*this.dataToSend.length);this.dataToSend=this.dataToSend[e],this.setState({data:Object(d.a)(this.dataToSend)})}},{key:"fetchData",value:function(){var e=this;fetch("data/data.json").then(function(e){if(200===e.status)return e;throw new Error("Something went wrong")}).then(function(e){return e.json()}).then(function(t){setTimeout(function(){e.setState({data:t,isFetched:!0})},e.randomTime)}).catch(function(e){return console.log(e)})}},{key:"loadData",value:function(){this.randomTime=Math.floor(3e3*Math.random()+2e3),this.setState({downloadingTime:this.randomTime}),this.countDownloadingTime(),this.fetchData()}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(m,{downloadingTime:this.state.downloadingTime}),i.a.createElement(f,{handleFetchClick:this.handleFetch,handleResetClick:this.handleReset}),i.a.createElement(w,{data:this.state.data,isFetched:this.state.isFetched}))}}]),t}(a.Component);o.a.render(i.a.createElement(p,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.a42c66d7.chunk.js.map